ğŸ“Œ Kubernetes Services â€“ RÃ©capitulatif Complet
ğŸ”¹ 1. Quâ€™est-ce quâ€™un Service Kubernetes ?

Un Service Kubernetes est une abstraction rÃ©seau qui expose un groupe de Pods comme un point dâ€™accÃ¨s unique et stable.

ğŸ‘‰ Les Pods sont Ã©phÃ©mÃ¨res (leurs IP changent), mais le Service fournit :

une IP stable

un nom DNS stable

un load balancing automatique

ğŸ”¹ 2. ProblÃ¨me que rÃ©sout un Service
âŒ Sans Service :

Chaque Pod a une IP diffÃ©rente

Quand un Pod est recrÃ©Ã© â†’ nouvelle IP

Les clients doivent connaÃ®tre toutes les IP

âœ… Avec Service :

Les clients utilisent le nom du Service

Kubernetes gÃ¨re automatiquement les Pods derriÃ¨re

ğŸ”¹ 3. Labels (Ã‰tiquettes)

Les labels sont des paires clÃ©/valeur attachÃ©es aux objets Kubernetes (Pods, Services, Deploymentsâ€¦).

Exemple :
labels:
  app: backend
  env: prod


ğŸ‘‰ Les labels servent Ã  :

organiser les ressources

identifier des groupes de Pods

permettre aux Services de cibler les bons Pods

ğŸ”¹ 4. Selectors (SÃ©lecteurs)

Un selector permet Ã  un Service de sÃ©lectionner automatiquement les Pods qui lui sont associÃ©s.

Exemple :
selector:
  app: backend


ğŸ‘‰ Le Service va :

chercher tous les Pods ayant app=backend

les ajouter comme endpoints

mettre Ã  jour la liste automatiquement (auto-healing)

ğŸ”¹ 5. Le Service contient-il des Pods ?

âŒ Non, un Service ne contient pas de Pods
âœ” Il pointe vers des Pods via labels + selectors

Service
  â””â”€â”€ Selector: app=backend
        â”œâ”€â”€ Pod 1 (app=backend)
        â”œâ”€â”€ Pod 2 (app=backend)
        â””â”€â”€ Pod 3 (app=backend)

ğŸ”¹ 6. Service Discovery (DÃ©couverte de services)

La Service Discovery permet aux Pods de trouver dâ€™autres services sans connaÃ®tre leurs IP.

Comment ?

Kubernetes utilise CoreDNS

Chaque Service reÃ§oit un nom DNS stable

service-name.namespace.svc.cluster.local


ğŸ‘‰ Les Pods communiquent via le nom du Service, pas via les IP des Pods.

ğŸ”¹ 7. Load Balancing

Tous les Services Kubernetes offrent du load balancing :

Le trafic est rÃ©parti entre tous les Pods sÃ©lectionnÃ©s

Si un Pod tombe â†’ retirÃ© automatiquement

Si un Pod est recrÃ©Ã© â†’ ajoutÃ© automatiquement

ğŸ‘‰ Le load balancing est interne et automatique

ğŸ”¹ 8. Types de Services Kubernetes
1ï¸âƒ£ ClusterIP (par dÃ©faut)

Accessible uniquement Ã  lâ€™intÃ©rieur du cluster

UtilisÃ© pour la communication interne entre services

2ï¸âƒ£ NodePort

Expose le Service via un port sur chaque Node

AccÃ¨s externe via :

http://IP-du-node:NodePort

3ï¸âƒ£ LoadBalancer

Fournit une IP publique

UtilisÃ© principalement en environnement cloud

ğŸ”¹ 9. Exposer une application vers lâ€™extÃ©rieur
Type	AccÃ¨s
ClusterIP	Interne uniquement
NodePort	Externe via Node
LoadBalancer	Externe via IP publique
ğŸ”¹ 10. Cluster, Master et Node (Rappel)

Cluster Kubernetes : ensemble de machines (Nodes)

Master (Control Plane) : cerveau du cluster

Node (Worker) : exÃ©cute les Pods

kubectl : outil client pour interagir avec le cluster

Minikube : cluster Kubernetes local (master + node)

ğŸ”¹ 11. Les 3 fonctionnalitÃ©s clÃ©s dâ€™un Service Kubernetes

âœ” Service Discovery
âœ” Load Balancing
âœ” Expose to World
